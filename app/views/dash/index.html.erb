<div class="container mx-auto">

  <section id="orders">
    <h1 class="pt-5">Dashboard 
      <span><%= (current_user.superadmin_role?) ? "Admin" : ((current_user.supervisor_role?) ? "Supervisor" : "User (#{@user.email})") %> </span>
    </h1>
    <h2>My Orders</h2>
    <p class="nav nav-pills navbar-right"><%= link_to 'Create Order', new_order_url, class: "btn btn-success" %></p>
    <% if defined?(@orders) %>
      <table class="table table-stripped">
        <thead>
          <tr>
            <th>Image</th>
            <th>Order Name</th>
            <th>Order By</th>
            <th>Order Number</th>
            <th colspan="3">Controls</th>
          </tr>
        </thead>
        
        <tbody>
          <%  @orders.each do |order| %>
            <tr>
              <td><% "image_tag(order.image.thumb.url) if order.image?" %></td>
              <td><%= order.ordername %></td>
              <td><%= order.user_id.blank? ? 'None' : order.user.email %></td>
              <td><%= order.ordernumber %></td>
              <td colspan="3">
                <%= link_to 'Show', order, class: "btn btn-primary" %>
                <% if (user_signed_in?) && (order.user == current_user)  %>
                  <%= link_to 'Edit', edit_order_path(order), class: "btn btn-success" %>
                  <%= link_to 'Destroy', order, method: :delete, data: { confirm: 'Are you sure?' }, class: "btn btn-danger" %>
                <% end %>
              </td>
            </tr>
          <% end %>        
        </tbody>
      </table>
    <% end %>
  </section>

  <% if current_user.superadmin_role? || current_user.supervisor_role? %>
    <p>Visible only for superadmins and supervisors! </p>
  <% end %>

  <section>
    <h2>Estimates</h2>
  </section>
  <section>
    <h2>Keywords</h2>
  </section>

  <div>
    <br><br><br>
    <h5>Modal Triggers</h5>
    <!-- Button trigger modal -->
    <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
      Launch demo modal
    </button>
    
    <!-- Button trigger modal 2 -->
    <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#secondModal">
      Launch second modal
    </button>

    <!-- Modal -->
    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            ...
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            <button type="button" class="btn btn-primary">Save changes</button>
          </div>
        </div>
      </div>
    </div>
    
    <br>    

    <!-- Second Modal -->
    <div class="modal fade" id="secondModal" tabindex="-1" aria-labelledby="secondModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="secondModalLabel">Modal title</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <h1>Wonder what happens if I put something in here!</h1>
            ...
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            <button type="button" class="btn btn-primary">Save changes</button>
          </div>
        </div>
      </div>
    </div>
  </div>

</div>

<% console %>
